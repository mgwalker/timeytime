{% extends "base.html" %}
{% load static %}
{% load tags %}

{% block content %}
<div id="reports">
  <h3 class="dark">{{ start_of_week|date:"D M j, Y"}} - {{ end_of_week|date:"D M j, Y" }}</h3>
  <table id="week-report">
    <thead>
      <tr>
        <th>Client</th>
        <th>In</th>
        <th>Out</th>
        <th>Duration</th>
      </tr>
    </thead>
    <tbody>
      {% for entry in entries %}
      <tr>
        <td>{{ entry.entry.client.name }}</td>
        <td>{{ entry.entry.start_time|date:"Y - D M j, g:i A T" }}</td>
        <td>{{ entry.entry.end_time|date:"D M j, g:i A T" }}</td>
        <td>{{ entry.duration }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  {% if days %}
  <hr>
  <table id="daily">
    {% for day in days %}
      <tr>
        <th colspan="3">
          <h3 class="dark">{{ day.day|date:"D M j, Y"}}</h3>
        </th>
      </tr>
      {% for client in day.clients %}
        <tr>
          <td>
            <div class="token" style="--color:{{ client.color }}"></div>
          </td>
          <td>
            {{ client.name}}
          </td>
          <td>
            {{ client.duration }}
          </td>
        </tr>
      {% endfor %}
    {% endfor %}
  </table>
  {% endif %}
</div>
{% endblock %}